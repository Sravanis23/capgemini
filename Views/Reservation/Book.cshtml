@model RailwayReservationMVC.Models.Reservation

<h2>Book a Ticket for @Model.TrainName</h2>

<form method="post" action="@Url.Action("Book", "Reservation")">
    <input type="hidden" name="TrainID" value="@Model.TrainID" />
    <input type="hidden" name="TrainName" value="@Model.TrainName" />

    <label>Passenger Name:</label>
    <input type="text" name="PassengerName" required class="form-control" />

    <label>Age:</label>
    <input type="number" name="Age" required class="form-control" min="1" />

    <label>Gender:</label>
    <select name="Gender" class="form-control">
        <option value="Male">Male</option>
        <option value="Female">Female</option>
    </select>

    <label>Passenger Type:</label>
    <select name="PassengerType" class="form-control">
        <option value="Regular">Regular</option>
        <option value="Senior Citizen">Senior Citizen</option>
        <option value="Pregnant">Pregnant</option>
    </select>

    <label>Journey Date:</label>
    <input type="date" name="JourneyDate" required class="form-control" />

    <!-- ✅ Dynamic Class Type Selection -->
    <label for="ClassType">Class Type:</label>
    <select name="ClassType" class="form-control">
        @foreach (var classType in ViewBag.ClassTypes)
        {
            <option value="@classType">@classType</option>
        }
    </select>

    <!-- ✅ Quota Selection -->
    <label for="QuotaID">Select Quota:</label>
    <select id="QuotaID" name="QuotaID" class="form-control">
        @foreach (var quota in ViewBag.Quotas)
        {
            <option value="@quota.QuotaID">@quota.QuotaType - Seats Available: @quota.SeatsAvailable</option>
        }
    </select>

    <!-- ✅ Seats Booked Input -->
    <label>Seats to Book:</label>
    <input type="number" name="SeatsBooked" required class="form-control" min="1" />

    <label>Email (for confirmation):</label>
    <input type="email" name="Email" required class="form-control" />

    <button type="submit" class="btn btn-primary">Book Ticket</button>
</form>
